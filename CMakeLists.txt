cmake_minimum_required(VERSION 3.23)
project(HudlEmulator)

set(CMAKE_CXX_STANDARD 14)
set(HEPHAESTUS_DIR ./libs/Hephaestus/)

add_executable(HudlEmulator main.cpp "LCD Emulator/LCD.cpp" "LCD Emulator/LCD.hpp" "LCD Emulator/BitmapFont.hpp" GUI/Window.cpp GUI/Window.hpp GUI/Shader.cpp GUI/Shader.hpp GUI/Sprite.cpp GUI/Sprite.hpp GUI/stb_image.hpp "doom/doomgeneric_hudl.c" doom/doomgeneric/doomgeneric/p_sight.c doom/doomgeneric/doomgeneric/i_joystick.h doom/doomgeneric/doomgeneric/p_maputl.c doom/doomgeneric/doomgeneric/p_telept.c doom/doomgeneric/doomgeneric/doomgeneric.c doom/doomgeneric/doomgeneric/m_menu.h doom/doomgeneric/doomgeneric/w_main.h doom/doomgeneric/doomgeneric/dummy.c doom/doomgeneric/doomgeneric/d_player.h doom/doomgeneric/doomgeneric/m_random.c doom/doomgeneric/doomgeneric/info.c doom/doomgeneric/doomgeneric/m_argv.c doom/doomgeneric/doomgeneric/d_ticcmd.h doom/doomgeneric/doomgeneric/i_swap.h doom/doomgeneric/doomgeneric/sounds.h doom/doomgeneric/doomgeneric/doomtype.h doom/doomgeneric/doomgeneric/net_defs.h doom/doomgeneric/doomgeneric/m_bbox.c doom/doomgeneric/doomgeneric/d_think.h doom/doomgeneric/doomgeneric/p_ceilng.c doom/doomgeneric/doomgeneric/i_video.h doom/doomgeneric/doomgeneric/dstrings.c doom/doomgeneric/doomgeneric/p_inter.h doom/doomgeneric/doomgeneric/m_config.c doom/doomgeneric/doomgeneric/m_argv.h doom/doomgeneric/doomgeneric/p_spec.h doom/doomgeneric/doomgeneric/d_items.c doom/doomgeneric/doomgeneric/r_plane.h doom/doomgeneric/doomgeneric/v_video.h doom/doomgeneric/doomgeneric/m_fixed.c doom/doomgeneric/doomgeneric/r_local.h doom/doomgeneric/doomgeneric/m_random.h doom/doomgeneric/doomgeneric/r_data.h doom/doomgeneric/doomgeneric/m_misc.h doom/doomgeneric/doomgeneric/mus2mid.c doom/doomgeneric/doomgeneric/p_pspr.c doom/doomgeneric/doomgeneric/deh_str.h doom/doomgeneric/doomgeneric/f_finale.c doom/doomgeneric/doomgeneric/d_event.h doom/doomgeneric/doomgeneric/net_client.h doom/doomgeneric/doomgeneric/i_scale.c doom/doomgeneric/doomgeneric/d_mode.c doom/doomgeneric/doomgeneric/config.h doom/doomgeneric/doomgeneric/m_bbox.h doom/doomgeneric/doomgeneric/i_system.h doom/doomgeneric/doomgeneric/net_server.h doom/doomgeneric/doomgeneric/am_map.h doom/doomgeneric/doomgeneric/w_merge.h doom/doomgeneric/doomgeneric/deh_misc.h doom/doomgeneric/doomgeneric/p_user.c doom/doomgeneric/doomgeneric/doomstat.c doom/doomgeneric/doomgeneric/g_game.h doom/doomgeneric/doomgeneric/v_patch.h doom/doomgeneric/doomgeneric/gusconf.c doom/doomgeneric/doomgeneric/w_wad.c doom/doomgeneric/doomgeneric/st_lib.c doom/doomgeneric/doomgeneric/d_textur.h doom/doomgeneric/doomgeneric/st_lib.h doom/doomgeneric/doomgeneric/m_menu.c doom/doomgeneric/doomgeneric/i_sound.h doom/doomgeneric/doomgeneric/i_cdmus.h doom/doomgeneric/doomgeneric/hu_lib.c doom/doomgeneric/doomgeneric/d_main.h doom/doomgeneric/doomgeneric/i_timer.c doom/doomgeneric/doomgeneric/r_draw.h doom/doomgeneric/doomgeneric/memio.h doom/doomgeneric/doomgeneric/r_main.c doom/doomgeneric/doomgeneric/r_bsp.h doom/doomgeneric/doomgeneric/r_sky.c doom/doomgeneric/doomgeneric/z_zone.h doom/doomgeneric/doomgeneric/tables.h doom/doomgeneric/doomgeneric/i_scale.h doom/doomgeneric/doomgeneric/p_floor.c doom/doomgeneric/doomgeneric/m_cheat.c doom/doomgeneric/doomgeneric/m_controls.h doom/doomgeneric/doomgeneric/hu_stuff.h doom/doomgeneric/doomgeneric/m_fixed.h doom/doomgeneric/doomgeneric/m_cheat.h doom/doomgeneric/doomgeneric/i_timer.h doom/doomgeneric/doomgeneric/wi_stuff.h doom/doomgeneric/doomgeneric/p_mobj.c doom/doomgeneric/doomgeneric/net_loop.h doom/doomgeneric/doomgeneric/tables.c doom/doomgeneric/doomgeneric/hu_stuff.c doom/doomgeneric/doomgeneric/v_video.c doom/doomgeneric/doomgeneric/r_defs.h doom/doomgeneric/doomgeneric/m_misc.c doom/doomgeneric/doomgeneric/s_sound.c doom/doomgeneric/doomgeneric/i_joystick.c doom/doomgeneric/doomgeneric/am_map.c doom/doomgeneric/doomgeneric/r_draw.c doom/doomgeneric/doomgeneric/doom.h doom/doomgeneric/doomgeneric/i_cdmus.c doom/doomgeneric/doomgeneric/doomstat.h doom/doomgeneric/doomgeneric/p_plats.c doom/doomgeneric/doomgeneric/net_sdl.h doom/doomgeneric/doomgeneric/d_event.c doom/doomgeneric/doomgeneric/p_switch.c doom/doomgeneric/doomgeneric/net_io.h doom/doomgeneric/doomgeneric/f_finale.h doom/doomgeneric/doomgeneric/net_query.h doom/doomgeneric/doomgeneric/i_main.c doom/doomgeneric/doomgeneric/doomdata.h doom/doomgeneric/doomgeneric/doomfeatures.h doom/doomgeneric/doomgeneric/i_endoom.h doom/doomgeneric/doomgeneric/net_gui.h doom/doomgeneric/doomgeneric/d_items.h doom/doomgeneric/doomgeneric/p_setup.h doom/doomgeneric/doomgeneric/doomdef.c doom/doomgeneric/doomgeneric/z_zone.c doom/doomgeneric/doomgeneric/f_wipe.h doom/doomgeneric/doomgeneric/r_data.c doom/doomgeneric/doomgeneric/m_config.h doom/doomgeneric/doomgeneric/gusconf.h doom/doomgeneric/doomgeneric/d_englsh.h doom/doomgeneric/doomgeneric/p_lights.c doom/doomgeneric/doomgeneric/r_bsp.c doom/doomgeneric/doomgeneric/deh_main.h doom/doomgeneric/doomgeneric/p_doors.c doom/doomgeneric/doomgeneric/i_system.c doom/doomgeneric/doomgeneric/p_saveg.c doom/doomgeneric/doomgeneric/sounds.c doom/doomgeneric/doomgeneric/p_setup.c doom/doomgeneric/doomgeneric/wi_stuff.c doom/doomgeneric/doomgeneric/r_state.h doom/doomgeneric/doomgeneric/statdump.c doom/doomgeneric/doomgeneric/d_loop.h doom/doomgeneric/doomgeneric/p_spec.c doom/doomgeneric/doomgeneric/p_map.c doom/doomgeneric/doomgeneric/d_net.c doom/doomgeneric/doomgeneric/w_file_stdc.c doom/doomgeneric/doomgeneric/p_tick.c doom/doomgeneric/doomgeneric/i_video.c doom/doomgeneric/doomgeneric/icon.c doom/doomgeneric/doomgeneric/net_dedicated.h doom/doomgeneric/doomgeneric/statdump.h doom/doomgeneric/doomgeneric/hu_lib.h doom/doomgeneric/doomgeneric/d_main.c doom/doomgeneric/doomgeneric/st_stuff.c doom/doomgeneric/doomgeneric/r_plane.c doom/doomgeneric/doomgeneric/mus2mid.h doom/doomgeneric/doomgeneric/i_endoom.c doom/doomgeneric/doomgeneric/r_things.c doom/doomgeneric/doomgeneric/p_mobj.h doom/doomgeneric/doomgeneric/d_loop.c doom/doomgeneric/doomgeneric/st_stuff.h doom/doomgeneric/doomgeneric/w_file.h doom/doomgeneric/doomgeneric/r_main.h doom/doomgeneric/doomgeneric/doomdef.h doom/doomgeneric/doomgeneric/memio.c doom/doomgeneric/doomgeneric/w_wad.h doom/doomgeneric/doomgeneric/w_main.c doom/doomgeneric/doomgeneric/g_game.c doom/doomgeneric/doomgeneric/f_wipe.c doom/doomgeneric/doomgeneric/w_file.c doom/doomgeneric/doomgeneric/m_controls.c doom/doomgeneric/doomgeneric/i_sound.c doom/doomgeneric/doomgeneric/d_mode.h doom/doomgeneric/doomgeneric/p_enemy.c doom/doomgeneric/doomgeneric/r_segs.c doom/doomgeneric/doomgeneric/d_iwad.c doom/doomgeneric/doomgeneric/r_sky.h doom/doomgeneric/doomgeneric/sha1.c doom/doomgeneric/doomgeneric/r_segs.h doom/doomgeneric/doomgeneric/dstrings.h doom/doomgeneric/doomgeneric/r_things.h doom/doomgeneric/doomgeneric/p_tick.h doom/doomgeneric/doomgeneric/p_local.h doom/doomgeneric/doomgeneric/d_iwad.h doom/doomgeneric/doomgeneric/w_checksum.c doom/doomgeneric/doomgeneric/p_inter.c doom/doomgeneric/doomgeneric/net_packet.h doom/doomgeneric/doomgeneric/p_pspr.h doom/doomgeneric/doomgeneric/p_saveg.h doom/doomgeneric/doomgeneric/s_sound.h doom/doomgeneric/doomgeneric/i_input.c doom/doomgeneric/doomgeneric/w_checksum.h doom/doomgeneric/doomgeneric/info.h doom/doomgeneric/doomgeneric/sha1.h "LCD Emulator/Graphics.cpp" "LCD Emulator/Graphics.hpp")

# Handle  Dependencies
if(UNIX AND NOT APPLE)
    find_package(OpenGL REQUIRED)

    target_link_libraries(${PROJECT_NAME}
            PUBLIC OpenGL
            )
endif()

find_package(glm REQUIRED)
find_package(glfw3 REQUIRED)
find_package(GLEW REQUIRED)

target_link_libraries(${PROJECT_NAME}
        PUBLIC glfw
        PUBLIC GLEW::GLEW
        PUBLIC glm::glm
        )
#
### Link to the EVT-core library
#add_subdirectory(${EVT_CORE_DIR} ./libs/EVT-Core)
#
#include(CMakeDependentOption)
#include(${EVT_CORE_DIR}/cmake/evt-core_compiler.cmake)
#include(${EVT_CORE_DIR}/cmake/evt-core_install.cmake)
#
## Link the EVT-core library
#target_link_libraries(HudlEmulator EVT-Core)
#
add_custom_command(TARGET HudlEmulator PRE_BUILD
        COMMAND ${CMAKE_COMMAND} -E copy_directory
        ${CMAKE_SOURCE_DIR}/Resources $<TARGET_FILE_DIR:HudlEmulator>)
